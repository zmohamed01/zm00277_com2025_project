<div class="pages container">
  <div class="jumbotron jumbotron-fluid">
    <div class="bg-overlay">
      <div id="coursewords" class="container ">
        <h2 class="display-4" style="text-align:center" ><b> MODULE INFORMATION </b></h2></br>
        <p class="lead"><b><i> Please search module codes for more detailed information regarding the various different modules currently on offer for the next academic year.
        Please read all information carefully before <%= link_to "making a module selection", new_selection_path %>
        and get in <%= link_to "contact", contact_path %>  with any questions.</b></i></p>
      </div>
    </div>
  </div>
  <p>
    <a class="btn btn-primary" data-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample">
      Available modules are:
    </a>
  </p>
  <div class="panel-collapse collapse show" id="collapseExample" >
    <div class="card card-body">
      <p>Press button to copy to clipboard.</p>
      <i> <b>  <% (0...8).each { |num| %>
        <%= Course.pluck(:code, :title)[num].join(': ') %> </br> <%  } %>
      </b></i>
      </br>
    </div> <button id="0" class="btn-sm btn-outline-success" onclick="copy(document.getElementById('0').innerHTML)"><%=  Course.pluck(:code)[0].to_s  %></button>
    <button id="1" class="btn-sm btn-outline-success" onclick="copy(document.getElementById('1').innerHTML)"><%=  Course.pluck(:code)[1].to_s  %></button>
    <button id="2" class="btn-sm btn-outline-success" onclick="copy(document.getElementById('2').innerHTML)"><%=  Course.pluck(:code)[2].to_s  %></button>
    <button id="3" class="btn-sm btn-outline-success" onclick="copy(document.getElementById('3').innerHTML)"><%=  Course.pluck(:code)[3].to_s  %></button>
    <button id="4" class="btn-sm btn-outline-success" onclick="copy(document.getElementById('4').innerHTML)"><%=  Course.pluck(:code)[4].to_s  %></button>
    <button id="5" class="btn-sm btn-outline-success" onclick="copy(document.getElementById('5').innerHTML)"><%=  Course.pluck(:code)[5].to_s  %></button>
    <button id="6" class="btn-sm btn-outline-success" onclick="copy(document.getElementById('6').innerHTML)"><%=  Course.pluck(:code)[6].to_s  %></button>
    <button id="7" class="btn-sm btn-outline-success" onclick="copy(document.getElementById('7').innerHTML)"><%=  Course.pluck(:code)[7].to_s  %></button>
  </div></br>



  <h5>Search Module Code: </h5>
  <%= form_tag search_courses_path , method: :get do %>
    <div class="form-group row center">
       <div class="col-4">
        <%= text_field_tag :course, params[:course], placeholder: "Module code", autofocus: true, class: "form-control form-control-lg" %>
      </div>
        <%= button_tag type: :submit, class: "btn btn-success" do %>
          <%= 'Search' %>
        <% end %>
    </div><p>To paste: Ctrl+V</p>
  <% end %>


  <% if @course%>
  <div class="card card-header">
    <strong> <%=@course.code %> :
    <%=@course.title %></strong>
    <i>Module description: </i><%=@course.description %>
  </div>
  <% end %>

</div>
